import{j as e}from"./index-ByQWdRVi.js";import{r as t}from"./charts--DrkC4h1.js";import{u as s}from"./router-BWTJJsff.js";import{a5 as a,j as r,a2 as i,A as l}from"./ui-CyUNfsEX.js";import"./vendor-De9qiMg1.js";import"./pdf-60kGjG4V.js";import"./utils-d68qSfg_.js";const n=()=>{const n=s(),[o,c]=t.useState([]);t.useEffect(()=>{try{const e=JSON.parse(localStorage.getItem("notifications")||"[]");if(Array.isArray(e)&&e.length)c(e);else{const e=[{id:1,type:"info",title:"系统维护通知",message:"系统将于今晚22:00-24:00进行维护升级",time:(new Date).toLocaleString("zh-CN"),read:!1},{id:2,type:"warning",title:"目标截止提醒",message:"您的年度目标还有3天即将截止",time:(new Date).toLocaleString("zh-CN"),read:!0},{id:3,type:"success",title:"任务完成通知",message:"您负责的月度计划已全部完成",time:(new Date).toLocaleString("zh-CN"),read:!0}];c(e),localStorage.setItem("notifications",JSON.stringify(e))}}catch{c([])}},[]),t.useEffect(()=>{if(o&&o.length){const e=o.map(e=>({...e,read:!0}));d(e)}},[o.length]);const d=e=>{c(e),localStorage.setItem("notifications",JSON.stringify(e)),window.dispatchEvent(new Event("notificationsUpdated"))},x=t=>{switch(t){case"info":return e.jsx(r,{className:"text-blue-500",size:20});case"warning":return e.jsx(l,{className:"text-yellow-500",size:20});case"success":return e.jsx(i,{className:"text-green-500",size:20});default:return e.jsx(r,{className:"text-gray-500",size:20})}},m=e=>{switch(e){case"info":return"bg-blue-50 border-blue-200";case"warning":return"bg-yellow-50 border-yellow-200";case"success":return"bg-green-50 border-green-200";default:return"bg-gray-50 border-gray-200"}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl shadow-lg relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-16 translate-x-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full translate-y-12 -translate-x-12"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[e.jsx("button",{onClick:()=>n(-1),className:"p-2 bg-white/20 rounded-lg hover:bg-white/30 transition-colors",children:e.jsx(a,{size:20,className:"text-white"})}),e.jsx("div",{className:"p-3 bg-gradient-to-r from-white/20 to-white/30 rounded-lg shadow-lg",children:e.jsx(r,{size:24,className:"text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-white bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"通知中心"})]}),e.jsx("p",{className:"text-blue-100 text-lg",children:"查看和管理系统通知消息"})]})]}),e.jsx("div",{className:"space-y-4",children:o.map(t=>e.jsx("div",{className:`group relative p-6 rounded-xl shadow-lg border-2 transition-all duration-300 hover:shadow-xl hover:-translate-y-1 ${m(t.type)} ${t.read?"":"ring-2 ring-blue-400"}`,children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 p-3 bg-white rounded-lg shadow-sm",children:x(t.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:t.title}),!t.read&&e.jsx("span",{className:"px-2 py-1 bg-blue-500 text-white text-xs rounded-full font-medium",children:"未读"})]}),e.jsx("p",{className:"text-gray-600 mb-3 leading-relaxed",children:t.message}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:t.time}),e.jsxs("div",{className:"flex space-x-2",children:[!t.read&&e.jsx("button",{className:"px-3 py-1 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600 transition-colors",onClick:()=>{const e=o.map(e=>e.id===t.id?{...e,read:!0}:e);d(e)},children:"标记已读"}),e.jsx("button",{className:"px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded-lg hover:bg-gray-300 transition-colors",onClick:()=>{const e=o.filter(e=>e.id!==t.id);d(e)},children:"删除"})]})]})]})]})},t.id))}),0===o.length&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(r,{size:64,className:"mx-auto text-gray-300 mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"暂无通知"}),e.jsx("p",{className:"text-gray-500",children:"当有新的系统通知时，它们会显示在这里"})]})]})})};export{n as default};
