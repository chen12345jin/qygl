import{a as e,j as t}from"./index-ByQWdRVi.js";import{r as a}from"./charts--DrkC4h1.js";import{z as s,i as r,j as i,a3 as l,T as n,u as c,a4 as o,O as d,X as m,$ as x,Q as u}from"./ui-CyUNfsEX.js";import{D as h}from"./DeleteConfirmDialog-CRlob68K.js";import"./vendor-De9qiMg1.js";import"./router-BWTJJsff.js";import"./pdf-60kGjG4V.js";import"./utils-d68qSfg_.js";const p=()=>{const{getSystemSettings:p,addSystemSetting:g,updateSystemSetting:f,getTargetTypes:b,addTargetType:y,updateTargetType:j,deleteTargetType:v,loading:N}=e(),[k,w]=a.useState({system:{systemName:"企业年度规划系统",version:"1.0.0",language:"zh-CN",timezone:"Asia/Shanghai",autoBackup:!0,backupInterval:24,maintenanceMode:!1},security:{passwordMinLength:8,sessionTimeout:30,maxLoginAttempts:5,enableTwoFactor:!1,ipWhitelist:"",auditLog:!0},notification:{emailNotification:!0,smsNotification:!1,dingtalkNotification:!0,taskReminder:!0,deadlineAlert:!0,reportNotification:!0},integration:{dingtalkEnabled:!1,dingtalkAppKey:"",dingtalkAppSecret:"",emailHost:"",emailPort:587,emailUser:"",emailPassword:"",databaseBackup:!0}}),[A,C]=a.useState([]),[S,T]=a.useState(!1),[I,z]=a.useState(null),[B,L]=a.useState({isOpen:!1,itemId:null,itemName:""}),[P,E]=a.useState({name:"",description:"",color:"#3B82F6",icon:"target",category:"business",isActive:!0}),[M,O]=a.useState("system");a.useEffect(()=>{F(),U()},[]);const F=async()=>{try{const e=await p();if(e.success&&e.data){const t={system:{systemName:e.data.system?.systemName||"企业目标管理系统",version:e.data.system?.version||"1.0.0",language:e.data.system?.language||"zh-CN",timezone:e.data.system?.timezone||"Asia/Shanghai",autoBackup:e.data.system?.autoBackup??!0,backupInterval:e.data.system?.backupInterval||24,maintenanceMode:e.data.system?.maintenanceMode??!1},security:{passwordMinLength:e.data.security?.passwordMinLength||8,sessionTimeout:e.data.security?.sessionTimeout||30,maxLoginAttempts:e.data.security?.maxLoginAttempts||5,enableTwoFactor:e.data.security?.enableTwoFactor??!1,ipWhitelist:e.data.security?.ipWhitelist||"",auditLog:e.data.security?.auditLog??!0},notification:{emailNotification:e.data.notification?.emailNotification??!0,smsNotification:e.data.notification?.smsNotification??!1,dingtalkNotification:e.data.notification?.dingtalkNotification??!0,taskReminder:e.data.notification?.taskReminder??!0,deadlineAlert:e.data.notification?.deadlineAlert??!0,reportNotification:e.data.notification?.reportNotification??!0},integration:{dingtalkEnabled:e.data.integration?.dingtalkEnabled??!1,dingtalkAppKey:e.data.integration?.dingtalkAppKey||"",dingtalkAppSecret:e.data.integration?.dingtalkAppSecret||"",emailHost:e.data.integration?.emailHost||"",emailPort:e.data.integration?.emailPort||587,emailUser:e.data.integration?.emailUser||"",emailPassword:e.data.integration?.emailPassword||"",databaseBackup:e.data.integration?.databaseBackup??!0}};w(t)}else w({system:{systemName:"企业目标管理系统",version:"1.0.0",language:"zh-CN",timezone:"Asia/Shanghai",autoBackup:!0,backupInterval:24,maintenanceMode:!1},security:{passwordMinLength:8,sessionTimeout:30,maxLoginAttempts:5,enableTwoFactor:!1,ipWhitelist:"",auditLog:!0},notification:{emailNotification:!0,smsNotification:!1,dingtalkNotification:!0,taskReminder:!0,deadlineAlert:!0,reportNotification:!0},integration:{dingtalkEnabled:!1,dingtalkAppKey:"",dingtalkAppSecret:"",emailHost:"",emailPort:587,emailUser:"",emailPassword:"",databaseBackup:!0}})}catch(e){console.error("加载系统设置失败:",e),s.error("加载系统设置失败")}},U=async()=>{try{const e=await b();e.success&&e.data?C(e.data):C([{id:1,name:"销售目标",description:"销售业绩和客户拓展相关目标",color:"#3B82F6",icon:"target",category:"business",isActive:!0,createdAt:(new Date).toISOString()},{id:2,name:"市场目标",description:"品牌推广和市场占有率相关目标",color:"#10B981",icon:"trending-up",category:"marketing",isActive:!0,createdAt:(new Date).toISOString()},{id:3,name:"技术目标",description:"技术研发和产品创新相关目标",color:"#8B5CF6",icon:"cpu",category:"tech",isActive:!0,createdAt:(new Date).toISOString()},{id:4,name:"运营目标",description:"运营效率和流程优化相关目标",color:"#F59E0B",icon:"activity",category:"operations",isActive:!0,createdAt:(new Date).toISOString()}])}catch(e){console.error("加载目标类型失败:",e),s.error("加载目标类型失败")}},D=async()=>{try{(await g(k)).success?s.success("设置保存成功"):s.error("保存设置失败")}catch(e){s.error("设置保存失败"),console.error("保存设置失败:",e)}},K=async()=>{if(window.confirm("确定要重置所有设置吗？此操作不可恢复。"))try{const e={system:{systemName:"企业年度规划系统",version:"1.0.0",language:"zh-CN",timezone:"Asia/Shanghai",autoBackup:!0,backupInterval:24,maintenanceMode:!1},security:{passwordMinLength:8,sessionTimeout:30,maxLoginAttempts:5,enableTwoFactor:!1,ipWhitelist:"",auditLog:!0},notification:{emailNotification:!0,smsNotification:!1,dingtalkNotification:!0,taskReminder:!0,deadlineAlert:!0,reportNotification:!0},integration:{dingtalkEnabled:!1,dingtalkAppKey:"",dingtalkAppSecret:"",emailHost:"",emailPort:587,emailUser:"",emailPassword:"",databaseBackup:!0}};await D(),w(e),s.success("设置已重置")}catch(e){console.error("重置设置失败:",e),s.error("重置设置失败")}},W=(e,t,a)=>{w(s=>({...s,[e]:{...s[e],[t]:a}}))},H=()=>{setIsEditingType(!0),z(null),E({name:"",description:"",color:"#3B82F6",icon:"target",category:"business",isActive:!0})},R=async()=>{if(P.name.trim())try{let e;e=I?await j(I,{...P,updatedAt:(new Date).toISOString()}):await y({...P,createdAt:(new Date).toISOString()}),e.success?(await U(),setIsEditingType(!1),z(null),s.success(I?"目标类型更新成功":"目标类型添加成功")):s.error("保存目标类型失败")}catch(e){console.error("保存目标类型失败:",e),s.error("保存目标类型失败")}else s.error("请输入目标类型名称")},Q=()=>{setIsEditingType(!1),z(null)},$=[{id:"system",name:"系统设置",icon:r},{id:"security",name:"安全设置",icon:r},{id:"notification",name:"通知设置",icon:i},{id:"integration",name:"集成设置",icon:l},{id:"targetTypes",name:"目标类型",icon:n}],q=[{value:"business",label:"业务类"},{value:"marketing",label:"市场类"},{value:"hr",label:"人力资源"},{value:"tech",label:"技术类"},{value:"finance",label:"财务类"},{value:"operations",label:"运营类"}],G=[{value:"target",label:"目标"},{value:"dollar-sign",label:"金钱"},{value:"trending-up",label:"上升趋势"},{value:"users",label:"用户"},{value:"cpu",label:"技术"},{value:"bar-chart",label:"图表"},{value:"pie-chart",label:"饼图"},{value:"activity",label:"活动"}],J=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"系统名称"}),t.jsx("input",{type:"text",value:k.system.systemName,onChange:e=>W("system","systemName",e.target.value),className:"form-input"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"系统版本"}),t.jsx("input",{type:"text",value:k.system.version,onChange:e=>W("system","version",e.target.value),className:"form-input",readOnly:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"系统语言"}),t.jsxs("select",{value:k.system.language,onChange:e=>W("system","language",e.target.value),className:"form-select",children:[t.jsx("option",{value:"zh-CN",children:"简体中文"}),t.jsx("option",{value:"zh-TW",children:"繁体中文"}),t.jsx("option",{value:"en-US",children:"English"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"时区设置"}),t.jsxs("select",{value:k.system.timezone,onChange:e=>W("system","timezone",e.target.value),className:"form-select",children:[t.jsx("option",{value:"Asia/Shanghai",children:"北京时间 (UTC+8)"}),t.jsx("option",{value:"Asia/Tokyo",children:"东京时间 (UTC+9)"}),t.jsx("option",{value:"UTC",children:"协调世界时 (UTC+0)"})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"自动备份"}),t.jsx("p",{className:"text-sm text-gray-500",children:"定期自动备份系统数据"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:k.system.autoBackup,onChange:e=>W("system","autoBackup",e.target.checked),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),k.system.autoBackup&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"备份间隔（小时）"}),t.jsx("input",{type:"number",value:k.system.backupInterval,onChange:e=>W("system","backupInterval",parseInt(e.target.value)),className:"form-input w-32",min:"1",max:"168"})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"维护模式"}),t.jsx("p",{className:"text-sm text-gray-500",children:"启用后用户将无法访问系统"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:k.system.maintenanceMode,onChange:e=>W("system","maintenanceMode",e.target.checked),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-red-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-600"})]})]})]})]}),V=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-700",children:"目标类型管理"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"管理系统中的各种目标类型，用于分类和组织企业目标"})]}),t.jsxs("button",{onClick:H,className:"btn-primary flex items-center space-x-2",children:[t.jsx(d,{size:16}),t.jsx("span",{children:"新增类型"})]})]}),isEditingType&&t.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[t.jsx("h4",{className:"text-md font-semibold mb-4",children:I?"编辑目标类型":"新增目标类型"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["类型名称 ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:P.name,onChange:e=>E({...P,name:e.target.value}),className:"form-input",placeholder:"请输入目标类型名称"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"类型分类"}),t.jsx("select",{value:P.category,onChange:e=>E({...P,category:e.target.value}),className:"form-select",children:q.map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"显示颜色"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"color",value:P.color,onChange:e=>E({...P,color:e.target.value}),className:"w-12 h-10 border border-gray-300 rounded"}),t.jsx("input",{type:"text",value:P.color,onChange:e=>E({...P,color:e.target.value}),className:"form-input flex-1",placeholder:"#3B82F6"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"图标"}),t.jsx("select",{value:P.icon,onChange:e=>E({...P,icon:e.target.value}),className:"form-select",children:G.map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))})]}),t.jsxs("div",{className:"md:col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"描述"}),t.jsx("textarea",{value:P.description,onChange:e=>E({...P,description:e.target.value}),className:"form-textarea",rows:"3",placeholder:"请输入目标类型的详细描述"})]}),t.jsx("div",{className:"md:col-span-2",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:"isActive",checked:P.isActive,onChange:e=>E({...P,isActive:e.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),t.jsx("label",{htmlFor:"isActive",className:"ml-2 text-sm text-gray-700",children:"启用此目标类型"})]})})]}),t.jsxs("div",{className:"flex space-x-2 mt-6",children:[t.jsxs("button",{onClick:R,className:"btn-primary flex items-center space-x-2",children:[t.jsx(c,{size:16}),t.jsx("span",{children:I?"更新":"保存"})]}),t.jsxs("button",{onClick:Q,className:"btn-secondary flex items-center space-x-2",children:[t.jsx(m,{size:16}),t.jsx("span",{children:"取消"})]})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(e=>t.jsxs("div",{className:"bg-white border rounded-lg p-4 hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:e.color+"20"},children:t.jsx(n,{size:20,style:{color:e.color}})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-gray-900",children:e.name}),t.jsx("span",{className:"text-xs text-gray-500",children:q.find(t=>t.value===e.category)?.label})]})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx("button",{onClick:()=>(e=>{setIsEditingType(!0),z(e.id),E({name:e.name,description:e.description,color:e.color,icon:e.icon,category:e.category,isActive:e.isActive})})(e),className:"text-blue-600 hover:text-blue-800 p-1",title:"编辑",children:t.jsx(x,{size:14})}),t.jsx("button",{onClick:()=>{var t;L({isOpen:!0,itemId:(t=e).id,itemName:t.name})},className:"text-red-600 hover:text-red-800 p-1",title:"删除",children:t.jsx(u,{size:14})})]})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.description||"暂无描述"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+(e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"),children:e.isActive?"启用":"禁用"}),t.jsx("button",{onClick:()=>(async e=>{try{const t=A.find(t=>t.id===e);t&&((await j(e,{...t,isActive:!t.isActive,updatedAt:(new Date).toISOString()})).success?(await U(),s.success("状态更新成功")):s.error("状态更新失败"))}catch(t){console.error("状态更新失败:",t),s.error("状态更新失败")}})(e.id),className:"text-xs px-3 py-1 rounded-full border "+(e.isActive?"border-red-300 text-red-600 hover:bg-red-50":"border-green-300 text-green-600 hover:bg-green-50"),children:e.isActive?"禁用":"启用"})]})]},e.id))}),0===A.length&&t.jsxs("div",{className:"text-center py-12 text-gray-500",children:[t.jsx(n,{size:48,className:"mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"暂无目标类型，请添加新的目标类型"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6",children:[t.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:A.length}),t.jsx("div",{className:"text-sm text-blue-600",children:"总类型数"})]}),t.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:A.filter(e=>e.isActive).length}),t.jsx("div",{className:"text-sm text-green-600",children:"启用类型"})]}),t.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600",children:[...new Set(A.map(e=>e.category))].length}),t.jsx("div",{className:"text-sm text-purple-600",children:"分类数量"})]}),t.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:A.filter(e=>!e.isActive).length}),t.jsx("div",{className:"text-sm text-orange-600",children:"禁用类型"})]})]})]});return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 p-6",children:[t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl shadow-lg relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-16 translate-x-16"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full translate-y-12 -translate-x-12"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[t.jsx("div",{className:"p-3 bg-gradient-to-r from-white/20 to-white/30 rounded-lg shadow-lg",children:t.jsx(r,{size:24,className:"text-white"})}),t.jsx("h1",{className:"text-3xl font-bold text-white bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent",children:"系统设置"})]}),t.jsx("p",{className:"text-blue-100 text-lg",children:"管理系统配置、安全设置和集成选项"})]})]}),t.jsx("div",{className:"bg-gradient-to-r from-white to-blue-50 rounded-xl shadow-lg border border-white/50 mb-6 overflow-hidden",children:t.jsx("div",{className:"flex space-x-1 p-2 bg-gradient-to-r from-blue-100/50 to-purple-100/50",children:$.map(e=>{const a=e.icon;return t.jsxs("button",{onClick:()=>O(e.id),className:"flex items-center space-x-2 px-6 py-3 rounded-lg text-sm font-semibold transition-all duration-300 transform "+(M===e.id?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg scale-105":"text-gray-600 hover:text-gray-900 hover:bg-white/50 hover:shadow-md"),children:[t.jsx(a,{size:18}),t.jsx("span",{children:e.name})]},e.id)})})}),t.jsx("div",{className:"p-6",children:t.jsx("div",{className:"bg-gradient-to-br from-white to-blue-50 rounded-xl shadow-lg border border-white/50 p-6",children:(()=>{const e=e=>t.jsxs("div",{className:"space-y-6",children:[e,t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[t.jsxs("button",{onClick:D,className:"btn-primary flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300",children:[t.jsx(c,{size:18}),t.jsx("span",{children:"保存设置"})]}),t.jsxs("button",{onClick:K,className:"btn-secondary flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300",children:[t.jsx(o,{size:18}),t.jsx("span",{children:"重置设置"})]})]})]});switch(M){case"system":default:return e(J());case"security":return e(t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"密码最小长度"}),t.jsx("input",{type:"number",value:k.security.passwordMinLength,onChange:e=>W("security","passwordMinLength",parseInt(e.target.value)),className:"form-input",min:"6",max:"20"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"会话超时（分钟）"}),t.jsx("input",{type:"number",value:k.security.sessionTimeout,onChange:e=>W("security","sessionTimeout",parseInt(e.target.value)),className:"form-input",min:"5",max:"480"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最大登录尝试次数"}),t.jsx("input",{type:"number",value:k.security.maxLoginAttempts,onChange:e=>W("security","maxLoginAttempts",parseInt(e.target.value)),className:"form-input",min:"3",max:"10"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IP白名单（一行一个IP）"}),t.jsx("textarea",{value:k.security.ipWhitelist,onChange:e=>W("security","ipWhitelist",e.target.value),className:"form-textarea",rows:"4",placeholder:"192.168.1.1\n10.0.0.1"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"启用双因子认证"}),t.jsx("p",{className:"text-sm text-gray-500",children:"增强账户安全性"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:k.security.enableTwoFactor,onChange:e=>W("security","enableTwoFactor",e.target.checked),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"审计日志"}),t.jsx("p",{className:"text-sm text-gray-500",children:"记录用户操作日志"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:k.security.auditLog,onChange:e=>W("security","auditLog",e.target.checked),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}));case"notification":return e(t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"邮件通知"}),t.jsx("p",{className:"text-sm text-gray-500",children:"通过邮件发送系统通知"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:k.notification.emailNotification,onChange:e=>W("notification","emailNotification",e.target.checked),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"短信通知"}),t.jsx("p",{className:"text-sm text-gray-500",children:"通过短信发送紧急通知"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:k.notification.smsNotification,onChange:e=>W("notification","smsNotification",e.target.checked),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"钉钉通知"}),t.jsx("p",{className:"text-sm text-gray-500",children:"通过钉钉发送工作通知"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:k.notification.dingtalkNotification,onChange:e=>W("notification","dingtalkNotification",e.target.checked),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"任务提醒"}),t.jsx("p",{className:"text-sm text-gray-500",children:"任务截止前自动提醒"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:k.notification.taskReminder,onChange:e=>W("notification","taskReminder",e.target.checked),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"截止提醒"}),t.jsx("p",{className:"text-sm text-gray-500",children:"计划截止日期提醒"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:k.notification.deadlineAlert,onChange:e=>W("notification","deadlineAlert",e.target.checked),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"报告通知"}),t.jsx("p",{className:"text-sm text-gray-500",children:"定期发送进度报告"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:k.notification.reportNotification,onChange:e=>W("notification","reportNotification",e.target.checked),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})}));case"integration":return e(t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"钉钉集成"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"启用钉钉集成"}),t.jsx("p",{className:"text-sm text-gray-500",children:"集成钉钉实现消息推送和审批"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:k.integration.dingtalkEnabled,onChange:e=>W("integration","dingtalkEnabled",e.target.checked),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),k.integration.dingtalkEnabled&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"应用Key"}),t.jsx("input",{type:"text",value:k.integration.dingtalkAppKey,onChange:e=>W("integration","dingtalkAppKey",e.target.value),className:"form-input",placeholder:"请输入钉钉应用Key"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"应用Secret"}),t.jsx("input",{type:"password",value:k.integration.dingtalkAppSecret,onChange:e=>W("integration","dingtalkAppSecret",e.target.value),className:"form-input",placeholder:"请输入钉钉应用Secret"})]})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-4",children:"邮件服务"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SMTP服务器"}),t.jsx("input",{type:"text",value:k.integration.emailHost,onChange:e=>W("integration","emailHost",e.target.value),className:"form-input",placeholder:"smtp.example.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"端口"}),t.jsx("input",{type:"number",value:k.integration.emailPort,onChange:e=>W("integration","emailPort",parseInt(e.target.value)),className:"form-input"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"用户名"}),t.jsx("input",{type:"text",value:k.integration.emailUser,onChange:e=>W("integration","emailUser",e.target.value),className:"form-input",placeholder:"user@example.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"密码"}),t.jsx("input",{type:"password",value:k.integration.emailPassword,onChange:e=>W("integration","emailPassword",e.target.value),className:"form-input",placeholder:"请输入邮箱密码"})]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"数据库备份"}),t.jsx("p",{className:"text-sm text-gray-500",children:"定期备份数据库"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:k.integration.databaseBackup,onChange:e=>W("integration","databaseBackup",e.target.checked),className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}));case"targetTypes":return V()}})()})})]}),t.jsx(h,{isOpen:B.isOpen,onClose:()=>{L({isOpen:!1,itemId:null,itemName:""})},onConfirm:async()=>{try{(await v(B.itemId)).success?(await U(),s.success("目标类型删除成功")):s.error("删除目标类型失败")}catch(e){console.error("删除目标类型失败:",e),s.error("删除目标类型失败")}L({isOpen:!1,itemId:null,itemName:""})},itemName:B.itemName,title:"确认删除目标类型",message:"确定要删除这个目标类型吗？此操作不可恢复！"})]})};export{p as default};
